
---
title: "COVID-19 Data Visualization"
output:
  flexdashboard::flex_dashboard: default
  html_notebook: default
---



```{r}
# Ensure the necessary libraries are loaded
library(ggplot2)
library(dplyr)
library(ggrepel)


rm(list = ls())

# collecting the data
link="https://github.com/DACSS-Visual/tabular_bivar_numnum/raw/main/data/covidMA.rds"
covidMA=readRDS(url(link))

# Re-create the plot
covidMA_county <- aggregate(data = covidMA, cbind(deaths, cases) ~ County, mean)
covidMA_county <- covidMA_county %>% filter(deaths > 0 & cases > 0)

scatPlot <- ggplot(covidMA_county, aes(x = deaths, y = cases)) +
  geom_point(size = 3, alpha = 0.7, color = "blue") +
  geom_smooth(method = "lm", color = "red", se = FALSE) +
  geom_text_repel(aes(label = County), size = 3) +
  labs(
    title = "COVID-19 Cases vs. Deaths by County",
    x = "Average Deaths", 
    y = "Average Cases"
  ) +
  theme_minimal()


print(scatPlot)
# Save the plot in the current working directory
saveRDS(scatPlot, file = "scatPlot.rds")


```

